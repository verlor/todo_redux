(this.webpackJsonptodomvc=this.webpackJsonptodomvc||[]).push([[0],{24:function(e,t,n){e.exports=n(35)},35:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loadTasks",(function(){return k})),n.d(r,"addTodo",(function(){return S})),n.d(r,"deleteTodo",(function(){return D})),n.d(r,"editTodo",(function(){return L})),n.d(r,"completeTodo",(function(){return x})),n.d(r,"completeAllTodos",(function(){return N})),n.d(r,"clearCompleted",(function(){return I})),n.d(r,"setVisibilityFilter",(function(){return A})),n.d(r,"deleteTask",(function(){return P})),n.d(r,"postTask",(function(){return F})),n.d(r,"loadCourses",(function(){return R}));var o=n(0),a=n.n(o),c=n(8),i=n(1),u=n(2),l=n(9),s=n(10),d=n(12),f=n(11),p=n(4),m=n.n(p),h=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={text:e.props.text||""},e.handleSubmit=function(t){var n=t.target.value.trim();13===t.which&&(e.props.onSave(n),e.props.newTodo&&e.setState({text:""}))},e.handleChange=function(t){e.setState({text:t.target.value})},e.handleBlur=function(t){e.props.newTodo||e.props.onSave(t.target.value)},e}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("input",{className:m()({edit:this.props.editing,"new-todo":this.props.newTodo}),type:"text",placeholder:this.props.placeholder,autoFocus:!0,value:this.state.text,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleSubmit})}}]),n}(o.Component),O=function(e){var t=e.postTask;return a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(h,{newTodo:!0,onSave:function(e){0!==e.length&&t({text:e})},placeholder:"What needs to be done?"}))},E=n(5),b=n(16),v=n.n(b),T=n(21);function _(e){return C.apply(this,arguments)}function C(){return(C=Object(T.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw n=e.sent,new Error(n);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){throw console.error("API call failed. "+e),e}Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL;var w="http://neseiza.org/api/todos";function g(e){return fetch(w+"?id=eq."+e.id,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)})}function j(e){return fetch(w+"?id=eq."+e,{method:"DELETE"})}var k=function(e){return{type:"SET_ALL_TODOS",tasks:e}},S=function(e){return{type:"ADD_TODO",task:e}},D=function(e){return{type:"DELETE_TODO",id:e}},L=function(e,t){return{type:"EDIT_TODO",id:e,text:t}},x=function(e){return{type:"COMPLETE_TODO",id:e}},N=function(){return{type:"COMPLETE_ALL_TODOS"}},I=function(){return{type:"CLEAR_COMPLETED"}},A=function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}};function P(e){return function(t){return j(e).then((function(n){204===n.status&&t(D(e))}))}}function F(e){return function(t){return function(e){return fetch(w,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"},mimeType:"multipart/form-data"})}(e).then((function(n){var r=n.headers.get("Location"),o=r.substr(r.indexOf(".")+1);t(S(Object(E.a)({completed:!1,id:parseInt(o)},e)))}))}}function R(){return function(e){return fetch(w).then(_).catch(y).then((function(t){e(k(t))})).catch((function(e){throw e}))}}var B,M=Object(u.b)(null,{postTask:F})(O),U=n(6),V=function(e){var t=e.active,n=e.children,r=e.setFilter;return a.a.createElement("a",{className:m()({selected:t}),style:{cursor:"pointer"},onClick:function(){return r()}},n)},J=Object(u.b)((function(e,t){return{active:t.filter===e.visibilityFilter}}),(function(e,t){return{setFilter:function(){e(A(t.filter))}}}))(V),K=(B={},Object(U.a)(B,"show_all","All"),Object(U.a)(B,"show_active","Active"),Object(U.a)(B,"show_completed","Completed"),B),W=function(e){var t=e.activeCount,n=e.completedCount,r=e.onClearCompleted,o=1===t?"item":"items";return a.a.createElement("footer",{className:"footer"},a.a.createElement("span",{className:"todo-count"},a.a.createElement("strong",null,t||"No")," ",o," left"),a.a.createElement("ul",{className:"filters"},Object.keys(K).map((function(e){return a.a.createElement("li",{key:e},a.a.createElement(J,{filter:e},K[e]))}))),!!n&&a.a.createElement("button",{className:"clear-completed",onClick:r},"Clear completed"))},q=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1},e.handleDoubleClick=function(){e.setState({editing:!0})},e.handleSave=function(t,n){0===n.length?e.props.deleteTodo(t):e.props.editTodo(t,n),e.setState({editing:!1})},e}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.todo,o=n.completeTodo,c=n.deleteTask;return e=this.state.editing?a.a.createElement(h,{text:r.text,editing:this.state.editing,onSave:function(e){return t.handleSave(r.id,e)}}):a.a.createElement("div",{className:"view"},a.a.createElement("input",{className:"toggle",type:"checkbox",checked:r.completed,onChange:function(){return o(r.id)}}),a.a.createElement("label",{onDoubleClick:this.handleDoubleClick},r.text),a.a.createElement("button",{className:"destroy",onClick:function(){return c(r.id)}})),a.a.createElement("li",{className:m()({completed:r.completed,editing:this.state.editing})},e)}}]),n}(o.Component),H=function(e){var t=e.filteredTodos,n=e.actions;return Object(o.useEffect)((function(){n.loadCourses().catch((function(e){throw e}))}),[]),a.a.createElement("ul",{className:"todo-list"},t.map((function(e){return a.a.createElement(q,Object.assign({key:e.id,todo:e},n))})))},X=n(17),Y=function(e){return e.todos},z=Object(X.a)([function(e){return e.visibilityFilter},Y],(function(e,t){switch(e){case"show_all":return t;case"show_completed":return t.filter((function(e){return e.completed}));case"show_active":return t.filter((function(e){return!e.completed}));default:throw new Error("Unknown filter: "+e)}})),G=Object(X.a)([Y],(function(e){return e.reduce((function(e,t){return t.completed?e+1:e}),0)})),Q=Object(u.b)((function(e){return{filteredTodos:z(e)}}),(function(e){return{actions:Object(i.b)(r,e)}}))(H),Z=function(e){var t=e.todosCount,n=e.completedCount,r=e.actions;return a.a.createElement("section",{className:"main"},!!t&&a.a.createElement("span",null,a.a.createElement("input",{className:"toggle-all",type:"checkbox",checked:n===t,readOnly:!0}),a.a.createElement("label",{onClick:r.completeAllTodos})),a.a.createElement(Q,null),!!t&&a.a.createElement(W,{completedCount:n,activeCount:t-n,onClearCompleted:r.clearCompleted}))},$=Object(u.b)((function(e){return{todosCount:e.todos.length,completedCount:G(e)}}),(function(e){return{actions:Object(i.b)(r,e)}}))(Z),ee=function(){return a.a.createElement("div",null,a.a.createElement(M,null),a.a.createElement($,null))},te=n(23),ne=[];var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show_all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},oe=Object(i.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_TODOS":return e.concat(t.tasks);case"ADD_TODO":return[].concat(Object(te.a)(e),[t.task]);case"DELETE_TODO":return e.filter((function(e){return e.id!==t.id}));case"EDIT_TODO":return e.map((function(e){if(e.id===t.id){var n=Object(E.a)({},e,{text:t.text});return g(n),n}return e}));case"COMPLETE_TODO":return e.map((function(e){if(e.id===t.id){var n=Object(E.a)({},e,{completed:!e.completed});return g(n),n}return e}));case"COMPLETE_ALL_TODOS":var n=e.every((function(e){return e.completed}));return e.map((function(e){var t=Object(E.a)({},e,{completed:!n});return g(t),t}));case"CLEAR_COMPLETED":return e.map((function(e){!0===e.completed&&j(e.id)})),e.filter((function(e){return!1===e.completed}));default:return e}},visibilityFilter:re}),ae=(n(34),n(22)),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ie=Object(i.e)(oe,ce(Object(i.a)(ae.a)));Object(c.render)(a.a.createElement(u.a,{store:ie},a.a.createElement(ee,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6f6a0b1c.chunk.js.map